<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Colors</title>
    <style>
        .skeleton-loader {
            width: 300px;
            padding: 20px;
            background-color: #f3f3f3;
            border-radius: 4px;
            display: flex;
            align-items: start;
            gap: 15px;
            margin: 10px;
        }

        .skeleton-text {
            display: flex;
            flex-direction: column;
            gap: 10px;
            flex: 1;
            /* This allows the container to take up available space */
        }


        .skeleton-profile {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(90deg, #e0e0e0, #e5e5e5, #e0e0e0);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            margin-left: auto;
        }

        .skeleton-line {
            height: 10px;
            width: 100%;
            background: linear-gradient(90deg, #e0e0e0, #e5e5e5, #e0e0e0);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 4px;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }

            100% {
                background-position: 200% 0;
            }
        }


        /* PROGRESSIVE LINE */
        .progressive-line {
            position: relative;
            width: 100%;
            height: 10px;
            background-color: transparent;
            overflow: hidden;
            border-radius: 4px;
            /* Apply border-radius here */
        }

        .progressive-line::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #e0e0e0, #e5e5e5, #e0e0e0);
            background-size: 200% 100%;
            animation: drawLine 2s forwards, shimmer 1.5s infinite 2s;
            border-radius: 4px;
            /* Apply border-radius here too */
            animation-delay: 0s;
            /* Default delay, but will be overridden by JavaScript */
        }

        .progressive-line::before {
            /* ... existing styles ... */
            animation: drawLine 2s forwards, shimmer 1.5s infinite;
        }

        /* Using the data attribute to set animation delay */
        .progressive-line[data-delay="0"]::before {
            animation-delay: 0s, 2s;
            /* First value is for drawLine, second is for shimmer */
        }

        .progressive-line[data-delay="2"]::before {
            animation-delay: 2s, 4s;
        }

        .progressive-line[data-delay="4"]::before {
            animation-delay: 4s, 6s;
        }

        @keyframes drawLine {
            to {
                width: 100%;
            }
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }

            100% {
                background-position: 200% 0;
            }
        }

        .skeleton-line::before {
            /* ... existing styles ... */
            animation: shimmer 1.5s infinite;
            opacity: 0;
            /* Start with opacity 0 */
            animation-name: fadeIn, shimmer;
            /* Add fadeIn animation */
            animation-duration: 1s, 1.5s;
            /* Duration for both animations */
        }

        .skeleton-line {
            opacity: 0;
            /* Start with opacity 0 */
            animation: fadeIn 1s forwards, shimmer 1.5s 1s infinite;
            /* fadeIn will run for 1s and then shimmer will start with a delay of 1s */
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }


        /* SMALL LINE */

        .skeleton-line-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .small-skeleton-line {
            height: 10px;
            width: 20%;
            /* Explicit width for the small line */
            background: linear-gradient(90deg, #e0e0e0, #e5e5e5, #e0e0e0);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 4px;
            opacity: 0;
            animation: fadeIn 1s forwards, shimmer 1.5s 1s infinite;
        }


        .skeleton-wrapper {
            animation: appear 0.001s;
            /* A short animation to leverage the delay */
        }

        @keyframes appear {
            from {
                opacity: 1;
            }

            to {
                opacity: 1;
            }
        }

        .skeleton-wrapper {
            opacity: 0;
            transition: opacity 0.5s;
            /* A transition for smoother appearance */
        }


        /* Delayed appearance based on the animation-delay */
        .skeleton-wrapper:not(:first-child) {
            transition-delay: 3s;
            /* Default delay */
        }

        .skeleton-wrapper.progressive:not(:first-child) {
            transition-delay: 6s;
        }
    </style>
</head>

<body>
    <main>
        <div class="skeleton-loader">
            <!-- Name and details skeletons -->
            <div class="skeleton-text">
                <div class="skeleton-line" style="width: 80%;"></div>
                <div class="skeleton-line" style="width: 60%;"></div>
                <div class="skeleton-line" style="width: 50%;"></div>
                <!-- <div class="progressive-line" style="width: 80%;"></div>
                <div class="progressive-line" style="width: 60%;"></div>
                <div class="progressive-line" style="width: 50%;"></div> -->
            </div>

            <!-- Profile picture skeleton -->
            <div class="skeleton-profile"></div>
        </div>
        <div class="skeleton-loader">
            <!-- Name and details skeletons -->
            <div class="skeleton-text">
                <!-- <div class="skeleton-line" style="width: 80%;"></div>
                <div class="skeleton-line" style="width: 60%;"></div>
                <div class="skeleton-line" style="width: 50%;"></div> -->
                <div class="progressive-line" style="width: 80%;"></div>
                <div class="progressive-line" style="width: 60%;"></div>
                <div class="progressive-line" style="width: 50%;"></div>
            </div>

            <!-- Profile picture skeleton -->
            <div class="skeleton-profile"></div>
        </div>


        <div id="skeleton-container"></div>








    </main>
    <script>

        function createSkeleton(mode = 'normal') {
            // Create the main skeleton loader div
            const skeletonLoader = document.createElement('div');
            skeletonLoader.className = 'skeleton-loader';

            // Create the text container div
            const skeletonText = document.createElement('div');
            skeletonText.className = 'skeleton-text';

            // Create individual skeleton lines and append them to the text container
            const widths = ['80%', '60%', '50%'];
            widths.forEach((width, index) => {
                const skeletonLineWrapper = document.createElement('div');
                skeletonLineWrapper.className = 'skeleton-line-wrapper';

                const smallSkeletonLine = document.createElement('div');
                smallSkeletonLine.className = 'small-skeleton-line';
                if (mode === 'staggered') {
                    smallSkeletonLine.style.animationDelay = `${index * 1 - 0.5}s`;  // 0.5s before the main line
                } else if (mode === 'progressive') {
                    smallSkeletonLine.style.animationDelay = `${index * 2 - 1}s`;  // 1s before the main line
                }

                const skeletonLine = document.createElement('div');
                if (mode === 'progressive') {
                    skeletonLine.className = 'progressive-line';
                    skeletonLine.dataset.delay = index * 2;
                } else {
                    skeletonLine.className = 'skeleton-line';
                    if (mode === 'staggered') {
                        skeletonLine.style.animationDelay = `${index * 1}s`;
                    }
                }
                skeletonLine.style.width = width;

                skeletonLineWrapper.appendChild(smallSkeletonLine);
                skeletonLineWrapper.appendChild(skeletonLine);
                skeletonText.appendChild(skeletonLineWrapper);
            });

            // Create the skeleton profile
            const skeletonProfile = document.createElement('div');
            skeletonProfile.className = 'skeleton-profile';

            // Append the text container and the profile to the main skeleton loader
            skeletonLoader.appendChild(skeletonText);
            skeletonLoader.appendChild(skeletonProfile);

            // Append the skeleton loader to the container in the document
            document.getElementById('skeleton-container').appendChild(skeletonLoader);
        }


        function createSkeletonGroup(count = 1, mode = 'normal') {
            const delayDuration = (mode === 'staggered') ? 3000 : (mode === 'progressive') ? 6000 : 1000;

            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const skeletonWrapper = document.createElement('div');
                    skeletonWrapper.className = 'skeleton-wrapper';

                    createSkeleton(mode);

                    const lastSkeleton = document.getElementById('skeleton-container').lastChild;
                    skeletonWrapper.appendChild(lastSkeleton);

                    document.getElementById('skeleton-container').appendChild(skeletonWrapper);

                    // Immediately make the skeleton visible after adding to the DOM
                    skeletonWrapper.style.opacity = '1';
                }, i * delayDuration);
            }
        }

        // Examples:
        // For a regular skeleton
        // createSkeleton();
        // createSkeleton();

        // createSkeleton('staggered');
        // createSkeleton('staggered');

        // createSkeleton('progressive');
        // createSkeleton('progressive');

        // createSkeletonGroup(3, 'normal');
        // createSkeletonGroup(3, 'staggered');
        createSkeletonGroup(3, 'progressive');




    </script>
</body>

<footer></footer>

</html>
